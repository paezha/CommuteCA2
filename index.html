<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Standardized Methods for Accessibility Analysis in Canadian Research • CommuteCA2</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Standardized Methods for Accessibility Analysis in Canadian Research">
<meta name="description" content="The main objective of the *CommuteCA* package is to develop standardized methods for accessibility analysis in research, especially for studies using Statistics Canada surveys. Among the available surveys, we focused our efforts on the 2021 Census of Population, which contain valuable variables for transportation research. This package was created with support from the office of the Research Data Center at McMaster University, the Sherman Centre for Digital Scholarship and Mobilizing Justice.">
<meta property="og:description" content="The main objective of the *CommuteCA* package is to develop standardized methods for accessibility analysis in research, especially for studies using Statistics Canada surveys. Among the available surveys, we focused our efforts on the 2021 Census of Population, which contain valuable variables for transportation research. This package was created with support from the office of the Research Data Center at McMaster University, the Sherman Centre for Digital Scholarship and Mobilizing Justice.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">CommuteCA2</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/paezha/CommuteCA2/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="commuteca2">CommuteCA2<a class="anchor" aria-label="anchor" href="#commuteca2"></a>
</h1></div>
<!-- README.md is generated from README.Rmd. Please edit that file -->
<!-- badges: start -->
<!-- badges: end -->
</div>
<div class="section level1">
<h1 id="commuteca">CommuteCA<a class="anchor" aria-label="anchor" href="#commuteca"></a>
</h1>
<p>The <a href="https://github.com/dias-bruno/CommuteCA" class="external-link"><strong>CommuteCA</strong></a> R package was created to develop standardized methods for transport analysis in research, particularly for analysis using the <a href="https://www12.statcan.gc.ca/census-recensement/index-eng.cfm" class="external-link"><em>2021 Census of Population</em></a> from Statistics Canada. We focused our efforts on the <a href="https://www12.statcan.gc.ca/census-recensement/2021/ref/98-500/011/98-500-x2021011-eng.cfm" class="external-link"><em>Commuting Reference Guide</em></a>, which provides valuable variables and information on commuting for the Canadian population aged 15 and older living in private households.</p>
<p>The name of the package, <em>CommuteCA</em>, references the commuting section of the 2021 Canadian Census of Population. This package was created in conjunction with the office of the <a href="https://rdc.mcmaster.ca/" class="external-link"><em>Research Data Center</em> at <em>McMaster University</em></a>, the <a href="https://scds.ca/" class="external-link"><em>Sherman Centre for Digital Scholarship</em></a> and the <a href="https://mobilizingjustice.ca/" class="external-link"><em>Mobilizing Justice</em></a>.</p>
<p>The Mobilizing Justice project is a multidisciplinary and multi-sector collaboration with the objective of understand and address transportation poverty in Canada and to improve the well-being of Canadians at risk of transport poverty. The Social Sciences and Humanities Research Council (SSRHC) has provided funding for the project, which was created by an unprecedented alliance of academics from various Canadian provinces and institutions, transportation firms, and nonprofit organizations.</p>
<div class="section level2">
<h2 id="structure">Structure<a class="anchor" aria-label="anchor" href="#structure"></a>
</h2>
<p><em>CommuteCA</em> consists of a series of R datasets and R Markdown files created to calculate job accessibility analyses for any city in Canada using the 2021 Census of Population as the primary data source. The source data (the demographic census) is restricted and requires controlled access, meaning it must be processed within a Research Data Center (RDC) office. The package includes datasets and R Markdown files that enable accessibility analysis for two spatial units:</p>
<ul>
<li>
<em>Dissemination Areas</em>, a Statistics Canada spatial unit available nationwide.</li>
<li>
<em>Census Tracts</em>, available only for Census Metropolitan Areas and Census Agglomerations.</li>
</ul>
<p>For Census Tracts, the package provides datasets and R Markdown files that allow researchers and transport practitioners to generate job accessibility measures and maps without needing to visit an RDC office.</p>
<p>For Dissemination Areas, we developed R Markdown files that split the process of calculating and analyzing accessibility metrics into distinct steps. This structure simplifies data processing, given the restricted nature of the source data.</p>
<div class="section level3">
<h3 id="explanation-of-the-r-markdown-files">Explanation of the R markdown files<a class="anchor" aria-label="anchor" href="#explanation-of-the-r-markdown-files"></a>
</h3>
<p>The figure below shows the order in which the R Markdown files are executed. For the Dissemination Area spatial unit, only the fourth and fifth steps - <em>“Calculation of accessibility measures”</em> and <em>“Visualizing accessibility measures”</em> - must be executed within an RDC office when working with original data from the Census of Population. To make the methodology easier to understand, we provide a test dataset derived from the demographic census, containing a selection of variables. This allows researchers to test and refine the methodology before processing the original data in an RDC office.</p>
<figure><img src="reference/figures/COMMUTECA21.png" alt="Execution order to obtain accessibility analysis."><figcaption aria-hidden="true">
Execution order to obtain accessibility analysis.
</figcaption></figure><p>The R Markdown files are available in the <code>/data-raw</code> folder if you clone the repository from <a href="https://github.com/dias-bruno/COMMUTECA" class="external-link">GitHub</a>. If you have installed the package, you can access the R Markdown templates in <code>RStudio</code> by navigating to <code>File &gt; New File &gt; R Markdown... &gt; From Template</code> and selecting one of the <em>CommuteCA</em> R Markdown templates.</p>
<div class="section level4">
<h4 id="basics-of-r-and-data">Basics of R and Data<a class="anchor" aria-label="anchor" href="#basics-of-r-and-data"></a>
</h4>
<p>This R markdown provides a brief introduction to the R language and data concepts. It also talks about the principles of literate programming, data objects and basic operations, ways of measuring things and data manipulation.</p>
</div>
<div class="section level4">
<h4 id="exploratory-data-analysis">Exploratory Data Analysis<a class="anchor" aria-label="anchor" href="#exploratory-data-analysis"></a>
</h4>
<p>This R markdown aims to provide a brief introduction to exploratory data analysis (EDA). It also deals with descriptive statistics and visualization techniques.</p>
</div>
<div class="section level4">
<h4 id="travel-times">Travel Times<a class="anchor" aria-label="anchor" href="#travel-times"></a>
</h4>
<p>These R markdown files calculate a travel time matrix for multimodal transport networks (walking, cycling, public transit and motorized vehicles), for a selection of dissemination areas (DA) or census tract (CT) using the <a href="https://ipeagit.github.io/r5r/" class="external-link">{r5r}</a> R package.</p>
</div>
<div class="section level4">
<h4 id="accessibility-measures">Accessibility measures<a class="anchor" aria-label="anchor" href="#accessibility-measures"></a>
</h4>
<p>Considering the number of workers and employment opportunities obtained from the <a href="https://www12.statcan.gc.ca/census-recensement/2021/dp-pd/prof/index.cfm?Lang=E" class="external-link"><em>2021 Census of Population</em></a>, this R markdown enables obtaining Hansen-type accessibility <a href="https://www.tandfonline.com/doi/abs/10.1080/01944365908978307" class="external-link">(Hansen, 1959)</a> and spatial availability <a href="https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0278468" class="external-link">(Soukov and Paez,2023)</a>, for all Canadian provinces and territories, considering different modes of transportation. For Dissemination Areas (DA), researchers must access the original data within an RDC office. For Census Tracts (CT), the package provides pre-processed datasets, allowing users to generate accessibility measures without visiting an RDC office.</p>
</div>
<div class="section level4">
<h4 id="visualizing-accessibility-measures">Visualizing accessibility measures<a class="anchor" aria-label="anchor" href="#visualizing-accessibility-measures"></a>
</h4>
<p>After obtained the accessibility measures for your region of interest, this R markdown presents a methodology for visually displaying and analyzing the data.</p>
</div>
</div>
<div class="section level3">
<h3 id="data-sets">Data sets<a class="anchor" aria-label="anchor" href="#data-sets"></a>
</h3>
<p>The package contains a series of datasets for accessibility analysis and other transportation studies.</p>
<p>The datasets include calibrated impedance functions for job destinations across walking, cycling, public transit, and motorized vehicle modes. These functions are provided at three geographic levels: city, Census Metropolitan Areas (CMA) and Census Agglomerations (CA) and Province and Territories.</p>
<p>For provinces, the calibrated job impedance functions are split by urbanity level or Indigenous Territory affiliation.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://dplyr.tidyverse.org" class="external-link">'dplyr'</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'dplyr'</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     filter, lag</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     intersect, setdiff, setequal, union</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"pr_impedance_functions"</span><span class="op">)</span> <span class="co"># Load provincial impedance functions</span></span>
<span></span>
<span><span class="va">pr_impedance_functions</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">Pr</span> <span class="op">==</span> <span class="st">'Alberta'</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="co"># Filter for Alberta</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">Pr</span>, <span class="va">CMA_type</span>, <span class="va">PwMode</span>, <span class="va">distribution</span>, <span class="va">est_1</span>, <span class="va">est_2</span><span class="op">)</span> <span class="co"># Display key columns</span></span>
<span><span class="co">#&gt; # A tibble: 19 × 6</span></span>
<span><span class="co">#&gt;    Pr      CMA_type                           PwMode distribution  est_1   est_2</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;   &lt;chr&gt;                              &lt;chr&gt;  &lt;chr&gt;         &lt;dbl&gt;   &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 Alberta CMA/CA                             Car/m… lnorm        2.85    0.689 </span></span>
<span><span class="co">#&gt;  2 Alberta CMA/CA                             Trans… gamma        2.89    0.0684</span></span>
<span><span class="co">#&gt;  3 Alberta CMA/CA                             Walk   exp          0.0753  0     </span></span>
<span><span class="co">#&gt;  4 Alberta CMA/CA                             Bike   gamma        2.27    0.106 </span></span>
<span><span class="co">#&gt;  5 Alberta Moderate metropolitan influenced … Car/m… lnorm        2.78    0.863 </span></span>
<span><span class="co">#&gt;  6 Alberta Moderate metropolitan influenced … Walk   lnorm        1.61    1.05  </span></span>
<span><span class="co">#&gt;  7 Alberta Moderate metropolitan influenced … Trans… gamma        1.54    0.0381</span></span>
<span><span class="co">#&gt;  8 Alberta Moderate metropolitan influenced … Bike   lnorm        2.07    0.794 </span></span>
<span><span class="co">#&gt;  9 Alberta Weak metropolitan influenced zone  Car/m… lnorm        2.46    0.975 </span></span>
<span><span class="co">#&gt; 10 Alberta Weak metropolitan influenced zone  Walk   lnorm        1.82    0.964 </span></span>
<span><span class="co">#&gt; 11 Alberta Weak metropolitan influenced zone  Bike   lnorm        2.01    0.808 </span></span>
<span><span class="co">#&gt; 12 Alberta Weak metropolitan influenced zone  Trans… gamma        1.25    0.0235</span></span>
<span><span class="co">#&gt; 13 Alberta Strong metropolitan influenced zo… Car/m… gamma        1.39    0.0500</span></span>
<span><span class="co">#&gt; 14 Alberta Strong metropolitan influenced zo… Walk   lnorm        1.06    1.29  </span></span>
<span><span class="co">#&gt; 15 Alberta Strong metropolitan influenced zo… Bike   unif         0      35.1   </span></span>
<span><span class="co">#&gt; 16 Alberta Strong metropolitan influenced zo… Trans… exp          0.0264  0     </span></span>
<span><span class="co">#&gt; 17 Alberta No metropolitan influenced zone    Car/m… exp          0.0470  0     </span></span>
<span><span class="co">#&gt; 18 Alberta No metropolitan influenced zone    Walk   lnorm        1.39    0.790 </span></span>
<span><span class="co">#&gt; 19 Alberta No metropolitan influenced zone    Trans… gamma        3.25    0.0802</span></span></code></pre></div>
<p>The package also includes land use tables with labor force population and job counts for census tracts. The code below visualizes Toronto’s labour force distribution by transportation mode:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/paezha/CommuteCA2" class="external-link">"CommuteCA2"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://r-spatial.github.io/sf/" class="external-link">"sf"</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Linking to GEOS 3.12.2, GDAL 3.9.1, PROJ 9.4.1; sf_use_s2() is TRUE</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/r-tmap/tmap" class="external-link">"tmap"</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co">#data("census_tracts_ca21") # Census Tract Geometries</span></span>
<span><span class="co">#data("census_divisions_ca21") # Census Division geometries</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"land_use_CT_mode"</span><span class="op">)</span> <span class="co"># Land Use data with information of labour force and number of jobs considering transportation modes</span></span>
<span></span>
<span><span class="co">#census_tracts_ca21 &lt;- census_tracts_ca21 %&gt;% </span></span>
<span><span class="co">#  filter(PCD == 3520) # Filtering data for the city of Toronto </span></span>
<span></span>
<span><span class="co">#land_use_CT_mode &lt;- land_use_CT_mode %&gt;% </span></span>
<span><span class="co">#  filter(PCD == 3520) %&gt;% # Filtering data for the city of Toronto </span></span>
<span><span class="co">#  select(CTUID, PwMode, labour_force_est_rounded, jobs_rounded)</span></span>
<span></span>
<span><span class="co"># Joining both data sets</span></span>
<span><span class="co">#Toronto &lt;- expand.grid(CTUID = unique(census_tracts_ca21$CTUID), </span></span>
<span><span class="co">#              PwMode = unique(land_use_CT_mode$PwMode)) %&gt;%</span></span>
<span><span class="co">#  left_join(land_use_CT_mode, by = c("CTUID" = "CTUID", "PwMode" = "PwMode")) %&gt;%</span></span>
<span><span class="co">#  left_join(census_tracts_ca21, by = "CTUID")</span></span>
<span></span>
<span><span class="co">#Toronto &lt;- st_as_sf(Toronto, crs = st_crs(census_tracts_ca21)) # transforming the table in a spatial data type</span></span>
<span></span>
<span><span class="co"># Creating the plot</span></span>
<span><span class="co">#total_pop_by_mode_CT &lt;- tm_shape(Toronto) + </span></span>
<span><span class="co">#   tm_polygons("labour_force_est_rounded",</span></span>
<span><span class="co">#              style = "cont",</span></span>
<span><span class="co">#              palette = "Reds",</span></span>
<span><span class="co">#              title = " ",</span></span>
<span><span class="co">#              border.col = NULL) +  </span></span>
<span><span class="co">#   tm_facets(by = "PwMode") +       </span></span>
<span><span class="co">#   tm_scale_bar(position = c("right", "bottom")) +</span></span>
<span><span class="co">#   tm_compass(position = c("left", "top"), size = 1.0) + </span></span>
<span><span class="co">#   tm_shape(census_divisions_ca21) +</span></span>
<span><span class="co">#   tm_borders("black", lwd=0.5)</span></span>
<span></span>
<span><span class="co"># Visualizing</span></span>
<span><span class="co">#total_pop_by_mode_CT</span></span></code></pre></div>
<p>These datasets enable census tract-level accessibility analysis. For instance, the job accessibility for the city of Toronto (Hansen type):</p>
<figure><img src="reference/figures/HT_by_mode_CT.jpg" alt="Job accessibility for the city of Toronto (Hansen-type)."><figcaption aria-hidden="true">
Job accessibility for the city of Toronto (Hansen-type).
</figcaption></figure><p>Or the job spatial availability for the city of Toronto.</p>
<figure><img src="reference/figures/SA_by_mode_CT.jpg" alt="Job accessibility for the city of Toronto (Soukhov-type, spatial availability)."><figcaption aria-hidden="true">
Job accessibility for the city of Toronto (Soukhov-type, spatial availability).
</figcaption></figure>
</div>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of <em>CommuteCA</em> from:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("pak")</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pak.html" class="external-link">pak</a></span><span class="op">(</span><span class="st">"dias-bruno/CommuteCA"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/paezha/CommuteCA2/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/paezha/CommuteCA2/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://creativecommons.org/licenses/by/4.0" class="external-link">CC BY 4.0</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing CommuteCA2</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Bruno Dos Santos <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-6748-2038" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Antonio Paez <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0001-6912-9919" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Bruno Dos Santos, Antonio Paez.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
